!function(i,e){var s=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];e.Tinymodal=function(e,t){var o={id:e,onClose:function(){},onOpen:function(){},onBeforeOpen:function(){},onBeforeClose:function(){},esc:!0,click:!0},n=this;n.open=!1,n.o=function(){for(var e=arguments,t=e.length,o=1;o<t;o++)for(var n in e[o])e[o].hasOwnProperty(n)&&(e[0][n]=e[o][n]);return e[0]}({},o,t),n.m="string"==typeof e?i.getElementById(e):e,n.onClick=function(e){(e.target.hasAttribute("data-modal-close")||e.target.classList.contains("modal__open")&&n.o.click)&&(n.close(),e.preventDefault())},n.onKeydown=function(e){27===e.keyCode&&n.o.esc&&n.close(e),9===e.keyCode&&n.maintainFocus(e)},n.maintainFocus=function(e){var t=t||n.getFocusableNodes();if(!n.m.contains(i.activeElement)&&t.length)t[0].focus();else{var o=t.indexOf(i.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||o!==t.length-1||(t[0].focus(),e.preventDefault())}},n.getFocusableNodes=function(){var t=n.m.querySelectorAll(s);return Object.keys(t).map(function(e){return t[e]})}},Tinymodal.prototype.show=function(){this.open||(this.open=!0,this.o.onBeforeOpen.call(this.m),i.body.classList.add("w-modal"),this.oldFocus=i.activeElement,this.oldFocus.blur&&this.oldFocus.blur(),this.m.classList.add("modal__open"),this.m.setAttribute("aria-hidden",!1),this.m.addEventListener("touchstart",this.onClick),this.m.addEventListener("click",this.onClick),i.addEventListener("keydown",this.onKeydown),this.o.onOpen.call(this.m),this.maintainFocus())},Tinymodal.prototype.close=function(e){if("function"==typeof this.o.beforeClose&&!this.o.beforeClose.call(this.m))return void this._busy(!1);this.m.setAttribute("aria-hidden",!0),this.m.classList.remove("modal__open"),self.oldFocus&&self.oldFocus.focus(),this.m.removeEventListener("touchstart",this.onClick),this.m.removeEventListener("click",this.onClick),i.removeEventListener("keydown",this.onKeydown),i.body.classList.remove("w-modal"),this.o.onClose.call(this.m),this.open=!1}}(document,window);